<div class="container-fluid">
    <div *ngIf="loading" class="loader-screen">
        <img class="loader" alt="spinner" src="../../assets/images/Spinner.svg">
    </div>
    <app-header isHomeVisible=true></app-header>
    <div class="app-page">
        <div class="container py-3">
            <h1 class="text-center">Login Protocols</h1>
            <h3 class="text-center py-3">Select any card below to view the different login protocols</h3>
            <div class="card-deck">
                <div class="card bg-primary text-white invisible">
                    <div class="card-body text-center">
                        <h5 class="card-title text-center">Login with CyberArk Identity Authentication cookie</h5>
                        <div class="card-text text-center">
                            <p class="py-3">Use the CyberArk Identity authentication widget and leverage the authentication cookie generated by the CyberArk Identity.</p>
                            <p class="py-1">If Acme’s domain is identified by CyberArk Identity through custom domain feature, the cookie can be used by the Acme domain to validate a user session. In this case, the user’s session is handled by CyberArk Identity.</p>
                            <p class="py-1">In case, Acme’s domain is not recognized by CyberArk Identity, generate a session based cookie using the one time authentication token returned by the Identity’s login API. In this case, the user’s session is handled by Acme.</p>
                            <p class="py-2">Note: For this flow the widget should not be connected with any app on the Identity portal.</p>
                        </div>
                    </div>
                    <div class="p-3 w-50 align-self-center">
                        <button class="container btn btn-secondary" (click)="onAuthLogin()">Get Started</button>
                    </div>
                </div>
                <div class="card bg-primary text-white">
                    <div class="card-body">
                        <h5 class="card-title text-center">Login with OAuth/OIDC protocols</h5>
                        <div class="card-text text-center">
                            <p class="py-3">Once the user logins with CyberArk Identity authentication widget, and if the widget is integrated with the OIDC app, the OIDC flow will be triggered implicitly.</p>
                            <p class="py-1">The access tokens & ID tokens are then returned and these tokens can be used to authorize the user and to get user claims. Refresh tokens can also be  generated based on the configurations.</p>
                            <p class="py-1">A session cookie can be generated based on the access token/ID token and these session cookies will expire when access/ID/refresh tokens expire (or) when user clicks on logout.</p>
                            <p class="py-2">Note: For this flow the widget should be connected with an OIDC app on Identity portal.</p>
                        </div>
                    </div>
                    <div *ngIf="!isFlow1" class="p-3 w-50 align-self-center">
                        <button class="container btn btn-secondary" (click)="onAuthLogin()">Get Started</button>
                    </div>
                    <div *ngIf="isFlow1" class="p-4">
                        <div class="row justify-content-around px-5">
                          <div class="btn btn-link font-weight-bold"  (click)="onSignUp()">Signup</div>
                          <div class="btn btn-link font-weight-bold"  (click)="onLogin()">Login</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>